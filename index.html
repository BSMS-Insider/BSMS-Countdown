<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>School Countdown</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: #111;
    color: #fff;
    padding: 20px;
  }
  #label {
    font-size: 16px;
    opacity: 0.8;
  }
  #timer {
    font-size: 36px;
    font-weight: bold;
    margin-top: 10px;
  }
</style>
</head>
<body>
<div id="label">Loading...</div>
<div id="timer"></div>
<script>
const MANUAL_NO_SCHOOL = false;
const schedule = [
  {name:"Auditorium", start:"07:00", end:"07:50"},
  {name:"Class Change", start:"07:50", end:"07:55"},
  {name:"Dismissal to 1st", start:"07:55", end:"08:00"},
  {name:"1st Period", start:"08:00", end:"08:50"},
  {name:"Class Change", start:"08:50", end:"08:55"},
  {name:"2nd Period", start:"08:55", end:"09:45"},
  {name:"Class Change", start:"09:45", end:"09:50"},
  {name:"3rd Period", start:"09:50", end:"10:40"},
  {name:"Class Change", start:"10:40", end:"10:45"},
  {name:"4th Period Pt.1", start:"10:45", end:"11:25"},
  {name:"Lunch", start:"11:25", end:"11:50"},
  {name:"4th Period Pt.2", start:"11:50", end:"12:25"},
  {name:"Class Change", start:"12:25", end:"12:30"},
  {name:"5th Period", start:"12:30", end:"13:20"},
  {name:"Class Change", start:"13:20", end:"13:25"},
  {name:"6th Period", start:"13:25", end:"14:15"},
  {name:"Class Change", start:"14:15", end:"14:20"},
  {name:"7th Period", start:"14:20", end:"15:10"}
];
function updateCountdown() {
  const now = new Date();
  if (MANUAL_NO_SCHOOL) {
    document.getElementById('label').textContent = "No School";
    document.getElementById('timer').textContent = "";
    return;
  }
  const day = now.getDay();
  if (day === 0 || day === 6) {
    document.getElementById('label').textContent = "Weekend";
    document.getElementById('timer').textContent = "";
    return;
  }
  let current = null;
  let next = null;
  for (let i = 0; i < schedule.length; i++) {
    const [sh, sm] = schedule[i].start.split(":").map(Number);
    const [eh, em] = schedule[i].end.split(":").map(Number);
    const startTime = new Date(now); startTime.setHours(sh, sm, 0, 0);
    const endTime = new Date(now); endTime.setHours(eh, em, 0, 0);
    if (now >= startTime && now < endTime) current = schedule[i];
    if (now < startTime && !next) next = schedule[i];
  }
  if (!current && !next) {
    document.getElementById('label').textContent = "School has ended.";
    document.getElementById('timer').textContent = "";
    return;
  }
  if (!current && next) current = {name:"Before School", end:next.start};
  const [eh, em] = current.end.split(":").map(Number);
  const endTime = new Date(now); endTime.setHours(eh, em, 0, 0);
  const diff = endTime - now;
  const mins = Math.floor(diff / 60000);
  const secs = Math.floor((diff % 60000) / 1000);
  document.getElementById('label').textContent = current.name;
  document.getElementById('timer').textContent = `${mins}:${secs.toString().padStart(2,"0")}`;
}
updateCountdown();
setInterval(updateCountdown, 1000);
</script>
</body>
</html>
